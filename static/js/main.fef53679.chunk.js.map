{"version":3,"sources":["json sync /^/.//.*/.json$","components/PeriodView.js","panels/ScheduleScreen.js","panels/ChooseGroup.js","App.js","index.js"],"names":["map","webpackContext","req","id","webpackContextResolve","__webpack_require__","o","e","Error","code","keys","Object","resolve","module","exports","PeriodView","props","cab","time","getTime","name","type","replace","toLowerCase","getType","tch","defaultProps","ScheduleScreen","list","header","access_token","schedule","groupName","setupConnect","connect","subscribe","detail","data","console","log","schemeAttribute","document","createAttribute","value","scheme","body","attributes","setNamedItem","fetchData","send","sendPromise","then","response","hasOwnProperty","updateData","catch","error","go","clearGroup","event","getDay","week","day","mon","tue","wed","thu","fri","getCountPlural","count","require","aside","onClick","updateDay","state","dayNum","week1","forEach","item","setState","loading","dayOfWeek","Date","this","index","key","style","display","alignItems","flexDirection","size","marginTop","vertical","selected","Component","ChooseGroup","setGroup","getElementById","bind","top","placeholder","React","App","useState","activePanel","setActivePanel","popout","setPopout","useEffect","a","async","ReactDOM","render"],"mappings":"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","file":"static/js/main.fef53679.chunk.js","sourcesContent":["var map = {\n\t\"./MAK-116.json\": 238,\n\t\"./MAK-117.json\": 239,\n\t\"./MAK-18.json\": 240,\n\t\"./MAK-19.json\": 241,\n\t\"./MH-116.json\": 242,\n\t\"./MH-117.json\": 243,\n\t\"./MH-18.json\": 244,\n\t\"./MH-19.json\": 245,\n\t\"./MI-119.json\": 246,\n\t\"./MI-219.json\": 247,\n\t\"./MID-116.json\": 248,\n\t\"./MID-117.json\": 249,\n\t\"./MID-118.json\": 250,\n\t\"./MIM-116.json\": 251,\n\t\"./MIM-117.json\": 252,\n\t\"./MIM-118.json\": 253,\n\t\"./MM-118.json\": 254,\n\t\"./MM-119.json\": 255,\n\t\"./MM-218.json\": 256,\n\t\"./MM-219.json\": 257,\n\t\"./MMP-116.json\": 258,\n\t\"./MMP-117.json\": 259,\n\t\"./MMP-118.json\": 260,\n\t\"./MMP-119.json\": 261,\n\t\"./MMR-119.json\": 262,\n\t\"./MMS-116.json\": 263,\n\t\"./MMS-117.json\": 264,\n\t\"./MMT-116.json\": 265,\n\t\"./MMT-117.json\": 266,\n\t\"./MSL-116.json\": 267,\n\t\"./MU-116.json\": 268,\n\t\"./MU-117.json\": 269,\n\t\"./MU-18.json\": 270,\n\t\"./MU-19.json\": 271,\n\t\"./MV-119.json\": 272,\n\t\"./MV-219.json\": 273,\n\t\"./MV-319.json\": 274,\n\t\"./MVA-116.json\": 275,\n\t\"./MVA-117.json\": 276,\n\t\"./MVA-118.json\": 277,\n\t\"./MVI-116.json\": 278,\n\t\"./MVI-117.json\": 279,\n\t\"./MVI-118.json\": 280,\n\t\"./MVS-116.json\": 281,\n\t\"./MVS-117.json\": 282,\n\t\"./MVS-118.json\": 283\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 237;","import React from 'react';\nimport { Div } from '@vkontakte/vkui';\n\nexport interface PeriodViewProps extends React.HTMLAttributes<HTMLElement>/*, HasChildren, HasRootRef<HTMLElement>*/ {\n  name?: string,\n  cab?: string,\n  type?: 'prac' | 'lab' | 'lec',\n  tch?: string,\n  time?: string\n}\n\nconst getTime = time => {\n  switch (time) {\n    case 1:\n      return '9:00-10:30';\n    case 2:\n      return '10:40-12:10';\n    case 3:\n      return '12:40-14:10';\n    case 4:\n      return '14:20-15:50';\n    case 5:\n      return '16:20-17:50';\n    default:\n      return time;\n  }\n};\n\nconst getType = type => {\n\tswitch (type.replace('.', '').toLowerCase()) {\n\t\tcase 'пр': return <div id='type_prac'>Практика</div>;\n\t\tcase 'лаб': return <div id='type_lab'>Лаб.</div>;\n\t\tcase 'лек': return <div id='type_lec'>Лекция</div>;\n\t\tdefault: return <div id='type_'></div>;\n\t}\n}\n\t\t\n\nconst PeriodView: React.FunctionComponent<PeriodViewProps> = (props: PeriodViewProps) => {\n  //const platform = usePlatform();\n  if (props.cab === '') { \n  return <div/>;\n  } else {\n\t  return <Div>\n\t\t\t\t<div id='timecab'><div id='time'>{getTime(props.time)}</div><div id='cab'>{props.cab}</div></div>\n\t\t\t\t<div id='nametype'><div id='name'>{props.name}</div>{getType(props.type)}</div>\n\t\t\t\t<div id='tch'>{props.tch}</div>\n\t\t\t</Div>\n  }\n};\n\nPeriodView.defaultProps = {\n  name: 'Программирование',\n  cab: '1404',\n  type: 'prac',\n  tch: 'Иванов И.И.',\n  time: 1\n};\n\nexport default PeriodView;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { Panel, PanelHeader, PanelHeaderContent, Spinner, Group, List, Footer, Tabs, TabsItem, HorizontalScroll, FixedLayout } from '@vkontakte/vkui';\nimport Icon16Dropdown from '@vkontakte/icons/dist/16/dropdown';\nimport PeriodView from '../components/PeriodView';\nimport connect from '@vkontakte/vk-connect';\n\nimport './ScheduleScreen.css';\n\nclass ScheduleScreen extends Component {\n\t\n\tlist = [];\n\theader = \"\";\n\taccess_token = null;\n\tschedule = null;\n\tgroupName = '';\n\t\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tvar dayOfWeek = new Date().getDay(); dayOfWeek = dayOfWeek > 5 ? 1 : dayOfWeek;\n\t\tthis.state = {\n\t\t\tloading: true,\n\t\t\tdayNum: dayOfWeek,\n\t\t\tday: null,\n\t\t\tcount: 0\n\t\t}\n\t\tthis.setupConnect();\n\t}\n\t\n\tsetupConnect = () => {\n\t\tconnect.subscribe(({ detail: { type, data }}) => {\n\t\t\t\tconsole.log(data);\n\t\t\t\tif (type === 'VKWebAppUpdateConfig') {\n\t\t\t\t\tconst schemeAttribute = document.createAttribute('scheme');\n\t\t\t\t\tschemeAttribute.value = data.scheme ? data.scheme : 'client_light';\n\t\t\t\t\tdocument.body.attributes.setNamedItem(schemeAttribute);\n\t\t\t\t}\n\t\t\t\tif (type === 'VKWebAppAccessTokenReceived') {\n\t\t\t\t\tthis.access_token = data.access_token;\n\t\t\t\t\tthis.fetchData();\n\t\t\t\t} \n\t\t\t\tif (type === 'VKWebAppAccessTokenFailed' | 'VKWebAppCallAPIMethodFailed') {\n\t\t\t\t\t\n\t\t\t\t}\n\t\t\t});\n\t\t\tconnect.send(\"VKWebAppGetAuthToken\", {\"app_id\": 7241048, \"scope\": ''});\n\t}\n\t\n\tfetchData = () => {\n\t\tconnect.sendPromise(\"VKWebAppCallAPIMethod\",  {\n\t\t\t\t\"method\": \"storage.get\", \n\t\t\t\t\"params\": {\"v\":\"5.103\", \"access_token\": this.access_token, \"request_id\": \"getGroup\", \"key\": \"rsu-group\", \"global\": 1}\n\t\t\t}\n\t\t)\n\t\t.then(data => {\n\t\t\tif(data.response[0].hasOwnProperty(\"key\")) {\n\t\t\t\tthis.groupName = data.response[0].value;\n\t\t\t\tthis.updateData();\n\t\t\t} else {\n\t\t\t\tthis.groupName = data.response;\n\t\t\t\tthis.updateData();\n\t\t\t}\n\t\t})\n\t\t.catch(error => {\n\t\t\tconsole.log(error);\n\t\t\tthis.props.go('choose');\n\t\t});\n\t}\n\t\n\tclearGroup = (event) => {\n\t\tconnect.sendPromise(\"VKWebAppCallAPIMethod\",  {\n\t\t\t\t\"method\": \"storage.set\", \n\t\t\t\t\"params\": {\"v\":\"5.103\", \"access_token\": this.access_token, \"request_id\": \"clearGroup\", \"value\": \"\", \"key\": \"rsu-group\", \"global\": 1}\n\t\t\t}\n\t\t)\n\t\t.then(data => {\n\t\t\tif(data.response === 1) this.props.go('choose');\n\t\t})\n\t\t.catch(error => {\n\t\t\tconsole.log(error);\n\t\t});\n\t}\n\t\n\tgetDay = (week, day) => {\n\t\tswitch(day) {\n\t\t\tcase 1: return week.mon;\n\t\t\tcase 2: return week.tue;\n\t\t\tcase 3: return week.wed;\n\t\t\tcase 4: return week.thu;\n\t\t\tcase 5: return week.fri;\n\t\t\tdefault: return week.tue;\n\t\t}\n\t}\n\t\n\tgetCountPlural = (count) => {\n\t\tswitch(count) {\n\t\t\tcase 1: return count + ' пара';\n\t\t\tcase 5: return count + ' пар';\n\t\t\tdefault: return count + ' пары';\n\t\t}\n\t}\n\t\n\tupdateData = () => {\n\t\tconsole.log(this.groupName);\n\t\tthis.schedule = require('../json/'+this.groupName+'.json');\n\t\tthis.header = \t<PanelHeaderContent\n\t\t\t\t\t\t\taside={<Icon16Dropdown />}\n\t\t\t\t\t\t\tonClick={this.clearGroup} >\n\t\t\t\t\t\t\t\tНечётная неделя\n\t\t\t\t\t\t</PanelHeaderContent>;\n\t\tthis.updateDay();\n\t}\n\t\n\tupdateDay = () => {\n\t\tconsole.log(this.state.dayNum);\n\t\tvar day = this.getDay(this.schedule.week1, this.state.dayNum);\n\t\tvar count = 0;\n\t\tday.forEach(item => { if(item.cab) count++ });\n\t\tthis.setState({loading: false, day: day, count: count, dayNum: this.state.dayNum});\n\t}\n\t\n\trender() {\n\t\treturn (\n\t\t\t<Panel id=\"schedule\">\n\t\t\t\t<PanelHeader>\n\t\t\t\t\t{this.state.loading ? <Spinner /> : this.header }\n\t\t\t\t</PanelHeader>\n\t\t\t\t<Group>\n\t\t\t\t\t<List>{ this.state.loading ? <div/> :\n\t\t\t\t\t\t\t\tthis.state.day.map(function (item,index) {\n\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t<PeriodView name={item.name} type={item.type} time={index+1} tch={item.tch} cab={item.cab} key={index}/>\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t}, this)\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t}\n\t\t\t\t\t</List>\n\t\t\t\t</Group>\n\t\t\t\t{this.state.loading ? \t<div style={{ display: 'flex', alignItems: 'center', flexDirection: 'column' }}>\n\t\t\t\t\t\t\t\t\t\t\t<Spinner size=\"small\" style={{ marginTop: 20 }} />\n\t\t\t\t\t\t\t\t\t\t</div> : <Footer>{this.getCountPlural(this.state.count)}</Footer> }\n\t\t\t\t<FixedLayout vertical=\"bottom\">\t\t\n\t\t\t\t\t<Tabs type=\"buttons\">\n\t\t\t\t\t\t<HorizontalScroll>\n\t\t\t\t\t\t<TabsItem\n\t\t\t\t\t\t\tonClick={() => {this.state.dayNum = 1; this.updateDay()}}\n\t\t\t\t\t\t\tselected={this.state.dayNum === 1}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tПонедельник\n\t\t\t\t\t\t</TabsItem>\n\t\t\t\t\t\t<TabsItem\n\t\t\t\t\t\t\tonClick={() => {this.state.dayNum = 2; this.updateDay()}}\n\t\t\t\t\t\t\tselected={this.state.dayNum === 2}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tВторник\n\t\t\t\t\t\t</TabsItem>\n\t\t\t\t\t\t<TabsItem\n\t\t\t\t\t\t\tonClick={() => {this.state.dayNum = 3; this.updateDay()}}\n\t\t\t\t\t\t\tselected={this.state.dayNum === 3}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tСреда\n\t\t\t\t\t\t</TabsItem>\n\t\t\t\t\t\t<TabsItem\n\t\t\t\t\t\t\tonClick={() => {this.state.dayNum = 4; this.updateDay()}}\n\t\t\t\t\t\t\tselected={this.state.dayNum === 4}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tЧетверг\n\t\t\t\t\t\t</TabsItem>\n\t\t\t\t\t\t<TabsItem\n\t\t\t\t\t\t\tonClick={() => {this.state.dayNum = 5; this.updateDay()}}\n\t\t\t\t\t\t\tselected={this.state.dayNum === 5}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tПятница\n\t\t\t\t\t\t</TabsItem>\n\t\t\t\t\t\t</HorizontalScroll>\n\t\t\t\t\t</Tabs>\n\t\t\t\t</FixedLayout>\n\t\t\t</Panel>\n\t\t)\n\t}\n};\n\nScheduleScreen.propTypes = {\n\tid: PropTypes.string.isRequired,\n\tgo: PropTypes.func.isRequired,\n};\n\nexport default ScheduleScreen;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport connect from '@vkontakte/vk-connect';\nimport { Panel, PanelHeader, FormLayout, /*Select,*/ Input, Button } from '@vkontakte/vkui';\n\nimport './ScheduleScreen.css';\n\n\nclass ChooseGroup extends React.Component {\n\t\n\taccess_token = null;\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.setGroup = this.setGroup.bind(this);\n\t\tthis.setupConnect();\n\t}\n\t\n\tsetupConnect = () => {\n\t\tconnect.subscribe(({ detail: { type, data }}) => {\n\t\t\t\tif (type === 'VKWebAppUpdateConfig') {\n\t\t\t\t\tconst schemeAttribute = document.createAttribute('scheme');\n\t\t\t\t\tschemeAttribute.value = data.scheme ? data.scheme : 'client_light';\n\t\t\t\t\tdocument.body.attributes.setNamedItem(schemeAttribute);\n\t\t\t\t}\n\t\t\t\tif (type === 'VKWebAppAccessTokenReceived') {\n\t\t\t\t\tthis.access_token = data.access_token;\n\t\t\t\t}\n\t\t\t});\n\t\t\tconnect.send(\"VKWebAppGetAuthToken\", {\"app_id\": 7241048, \"scope\": ''});\n\t}\n\t\n\tsetGroup = (event) => {\n\t\tconnect.sendPromise(\"VKWebAppCallAPIMethod\",  {\n\t\t\t\t\"method\": \"storage.set\", \n\t\t\t\t\"params\": {\"v\":\"5.103\", \"access_token\": this.access_token, \"request_id\": \"clearGroup\", \"value\": document.getElementById(\"group-input\").value, \"key\": \"rsu-group\", \"global\": 1}\n\t\t\t}\n\t\t)\n\t\t.then(data => {\n\t\t\tif(data.response === 1) this.props.go('schedule');\n\t\t})\n\t\t.catch(error => {\n\t\t\tconsole.log(error);\n\t\t});\n\t}\n\t\n\trender() {\n\t\treturn (\n\t\t\t<Panel id=\"choose\">\n\t\t\t\t<PanelHeader>Выберите группу</PanelHeader>\n\t\t\t\t<FormLayout>\n\t\t\t\t\t<Input id=\"group-input\" top=\"Введите группу\" placeholder=\"MVA-117\" />\n\t\t\t\t\t<Button size=\"xl\" onClick={this.setGroup}>Готово</Button>\n\t\t\t\t</FormLayout>\n\t\t\t</Panel>\n\t\t)\n\t}\n};\n\nChooseGroup.propTypes = {\n\tid: PropTypes.string.isRequired,\n\tgo: PropTypes.func.isRequired,\n};\n\nexport default ChooseGroup;\n","import React, { useState, useEffect } from 'react';\nimport connect from '@vkontakte/vk-connect';\nimport View from '@vkontakte/vkui/dist/components/View/View';\nimport ScreenSpinner from '@vkontakte/vkui/dist/components/ScreenSpinner/ScreenSpinner';\nimport '@vkontakte/vkui/dist/vkui.css';\n\nimport ScheduleScreen from './panels/ScheduleScreen';\nimport ChooseGroup from './panels/ChooseGroup';\n\nconst App = () => {\n\tconst [activePanel, setActivePanel] = useState('schedule');\n\t//const [fetchedUser, setUser] = useState(null);\n\tconst [popout, setPopout] = useState(<ScreenSpinner size='large' />);\n\n\tuseEffect(() => {\n\t\tconnect.subscribe(({ detail: { type, data }}) => {\n\t\t\tif (type === 'VKWebAppUpdateConfig') {\n\t\t\t\tconst schemeAttribute = document.createAttribute('scheme');\n\t\t\t\tschemeAttribute.value = data.scheme ? data.scheme : 'client_light';\n\t\t\t\tdocument.body.attributes.setNamedItem(schemeAttribute);\n\n\t\t\t}\t\n\t\t});\n\t\tasync function fetchData() {\n\t\t\t//const user = await connect.sendPromise('VKWebAppGetUserInfo');\n\t\t\t//console.log(user);\n\t\t\t//setUser(user);\n\t\t\tsetPopout(null);\n\t\t}\n\t\tfetchData();\n\t}, []);\n\n\tconst go = e => {\n\t\tsetActivePanel(e);\n\t};\n\n\treturn (\n\t\t<View activePanel={activePanel} popout={popout}>\n\t\t\t<ChooseGroup /*fetchedUser={fetchedUser}*/ id='choose' go={go} />\n\t\t\t<ScheduleScreen /*fetchedUser={fetchedUser}*/ id='schedule' go={go} />\n\t\t</View>\n\t);\n}\n\nexport default App;\n\n","import 'core-js/features/map';\nimport 'core-js/features/set';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport connect from '@vkontakte/vk-connect';\nimport App from './App';\n// import registerServiceWorker from './sw';\n\n// Init VK  Mini App\nconnect.send('VKWebAppInit');\n\n// Если вы хотите, чтобы ваше веб-приложение работало в оффлайне и загружалось быстрее,\n// расскомментируйте строку с registerServiceWorker();\n// Но не забывайте, что на данный момент у технологии есть достаточно подводных камней\n// Подробнее про сервис воркеры можно почитать тут — https://vk.cc/8MHpmT\n// registerServiceWorker();\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}